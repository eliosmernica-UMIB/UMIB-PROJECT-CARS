<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EM Luxury Cars - Gallery</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* ============ HERO SECTION ============ */
        .em-gallery-hero {
            background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 100%),
                        url('https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&q=80&w=1920');
            background-size: cover;
            background-position: center;
            padding: 140px 0 80px;
            text-align: center;
        }
        
        .em-gallery-hero h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            color: #fff;
            margin-bottom: 15px;
        }
        
        .em-gallery-hero h1 span {
            color: #ffd700;
        }
        
        .em-gallery-hero p {
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* ============ FILTER TABS ============ */
        .em-filter-section {
            background: #fff;
            padding: 25px 0;
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 76px;
            z-index: 100;
        }
        
        .em-filter-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .em-filter-btn {
            background: #f8f9fa;
            border: none;
            padding: 10px 24px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9rem;
            color: #333;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .em-filter-btn:hover {
            background: #eee;
        }
        
        .em-filter-btn.active {
            background: #000;
            color: #ffd700;
        }
        
        /* ============ GALLERY GRID ============ */
        .em-gallery-section {
            padding: 60px 0;
            background: #f8f9fa;
        }
        
        .em-gallery-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }
        
        .em-gallery-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            background: #000;
        }
        
        /* Different sizes for variety */
        .em-gallery-item.large {
            grid-column: span 2;
            grid-row: span 2;
        }
        
        .em-gallery-item.wide {
            grid-column: span 2;
        }
        
        .em-gallery-item.tall {
            grid-row: span 2;
        }
        
        .em-gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s, opacity 0.3s;
            opacity: 0.9;
            min-height: 200px;
        }
        
        .em-gallery-item.large img,
        .em-gallery-item.tall img {
            min-height: 420px;
        }
        
        .em-gallery-item:hover img {
            transform: scale(1.08);
            opacity: 1;
        }
        
        /* Overlay */
        .em-gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px 20px 20px;
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .em-gallery-item:hover .em-gallery-overlay {
            opacity: 1;
        }
        
        .em-gallery-overlay h5 {
            color: #fff;
            font-weight: 700;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }
        
        .em-gallery-overlay span {
            color: #ffd700;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        /* Zoom icon */
        .em-gallery-zoom {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 60px;
            height: 60px;
            background: rgba(255, 215, 0, 0.95);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-size: 1.5rem;
            transition: transform 0.3s;
        }
        
        .em-gallery-item:hover .em-gallery-zoom {
            transform: translate(-50%, -50%) scale(1);
        }
        
        /* ============ LIGHTBOX ============ */
        .em-lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .em-lightbox.active {
            display: flex;
        }
        
        .em-lightbox-content {
            max-width: 1200px;
            max-height: 90vh;
            position: relative;
        }
        
        .em-lightbox-content img {
            max-width: 100%;
            max-height: 85vh;
            object-fit: contain;
            border-radius: 10px;
        }
        
        .em-lightbox-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 50%;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10000;
        }
        
        .em-lightbox-close:hover {
            background: #ffd700;
            color: #000;
        }
        
        .em-lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 50%;
            color: #fff;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .em-lightbox-nav:hover {
            background: #ffd700;
            color: #000;
        }
        
        .em-lightbox-prev {
            left: 20px;
        }
        
        .em-lightbox-next {
            right: 20px;
        }
        
        .em-lightbox-info {
            text-align: center;
            margin-top: 20px;
            color: #fff;
        }
        
        .em-lightbox-info h4 {
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .em-lightbox-info span {
            color: #ffd700;
        }
        
        /* ============ STATS SECTION ============ */
        .em-gallery-stats {
            background: #000;
            padding: 60px 0;
        }
        
        .stat-box {
            text-align: center;
            padding: 20px;
        }
        
        .stat-box i {
            font-size: 2.5rem;
            color: #ffd700;
            margin-bottom: 15px;
        }
        
        .stat-box h3 {
            font-size: 2.5rem;
            font-weight: 800;
            color: #fff;
            margin-bottom: 5px;
        }
        
        .stat-box p {
            color: rgba(255,255,255,0.6);
            margin: 0;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* ============ CTA SECTION ============ */
        .em-gallery-cta {
            padding: 80px 0;
            background: #fff;
            text-align: center;
        }
        
        .em-gallery-cta h2 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 800;
            margin-bottom: 15px;
        }
        
        .em-gallery-cta p {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 30px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* ============ RESPONSIVE ============ */
        @media (max-width: 991px) {
            .em-gallery-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .em-gallery-item.large {
                grid-column: span 2;
                grid-row: span 1;
            }
            
            .em-gallery-item.tall {
                grid-row: span 1;
            }
            
            .em-gallery-item.large img,
            .em-gallery-item.tall img {
                min-height: 250px;
            }
        }
        
        @media (max-width: 576px) {
            .em-gallery-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .em-gallery-item.large,
            .em-gallery-item.wide {
                grid-column: span 1;
            }
            
            .em-gallery-item img,
            .em-gallery-item.large img,
            .em-gallery-item.tall img {
                min-height: 220px;
            }
            
            .em-filter-section {
                padding: 15px 0;
            }
            
            .em-filter-btn {
                padding: 8px 16px;
                font-size: 0.8rem;
            }
            
            .em-lightbox-nav {
                width: 40px;
                height: 40px;
            }
            
            .em-lightbox-prev {
                left: 10px;
            }
            
            .em-lightbox-next {
                right: 10px;
            }
        }
    </style>
</head>
<body id="em-body">

    <!-- NAVIGATION -->
    <nav class="navbar navbar-expand-lg fixed-top em-navbar">
        <div class="container">
            <a class="navbar-brand em-brand" href="index.html">EM<span class="em-accent">.</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#emNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="emNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link em-nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link em-nav-link" href="about.html">About</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link em-nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Shop NOW</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="inventory.html">Buy Cars</a></li>
                            <li><a class="dropdown-item" href="rent.html">Rent a Car</a></li>
                            <li><a class="dropdown-item" href="parts.html">Car Parts</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link em-nav-link active" href="gallery.html">Gallery</a></li>
                    <li class="nav-item"><a class="nav-link em-nav-link" href="blog.html">Blog</a></li>
                    <li class="nav-item"><a class="nav-link em-nav-link" href="testimonials.html">Reviews</a></li>
                    <li class="nav-item"><a class="nav-link em-nav-link" href="contact.html">Contact</a></li>
                    <li class="nav-item ms-lg-3">
                        <a href="checkout.html" class="btn em-btn-primary position-relative">
                            Cart
                            <span id="em-cart-count" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
                        </a>
                    </li>
                    <!-- Auth section -->
                    <ul class="navbar-nav ms-lg-2" id="em-nav-auth"></ul>
                </ul>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="em-gallery-hero">
        <div class="container">
            <h1>The <span>Collection</span></h1>
            <p>A visual journey through automotive perfection. Explore our curated gallery of the world's most prestigious automobiles.</p>
        </div>
    </section>

    <!-- FILTER TABS -->
    <div class="em-filter-section">
        <div class="container">
            <div class="em-filter-tabs">
                <button class="em-filter-btn active" data-filter="all">All</button>
                <button class="em-filter-btn" data-filter="supercar">Supercars</button>
                <button class="em-filter-btn" data-filter="hypercar">Hypercars</button>
                <button class="em-filter-btn" data-filter="classic">Classics</button>
                <button class="em-filter-btn" data-filter="luxury">Luxury</button>
            </div>
        </div>
    </div>

    <!-- GALLERY GRID -->
    <section class="em-gallery-section">
        <div class="container">
            <div class="em-gallery-grid" id="galleryGrid">
                <!-- Item 1 - Large -->
                <div class="em-gallery-item large" data-category="supercar" data-index="0">
                    <img src="https://images.unsplash.com/photo-1544636331-e26879cd4d9b?auto=format&fit=crop&q=80&w=1200" alt="Bugatti Chiron">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Bugatti Chiron</h5>
                        <span>Hypercar</span>
                    </div>
                </div>
                
                <!-- Item 2 -->
                <div class="em-gallery-item" data-category="supercar" data-index="1">
                    <img src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&q=80&w=800" alt="Porsche 911">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Porsche 911 GT3</h5>
                        <span>Supercar</span>
                    </div>
                </div>
                
                <!-- Item 3 -->
                <div class="em-gallery-item" data-category="classic" data-index="2">
                    <img src="https://images.unsplash.com/photo-1583121274602-3e2820c69888?auto=format&fit=crop&q=80&w=800" alt="Ferrari Classic">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Ferrari 250 GTO</h5>
                        <span>Classic</span>
                    </div>
                </div>
                
                <!-- Item 4 - Tall -->
                <div class="em-gallery-item tall" data-category="supercar" data-index="3">
                    <img src="https://images.unsplash.com/photo-1552519507-da3b142c6e3d?auto=format&fit=crop&q=80&w=800" alt="Lamborghini">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Lamborghini Huracan</h5>
                        <span>Supercar</span>
                    </div>
                </div>
                
                <!-- Item 5 - Wide -->
                <div class="em-gallery-item wide" data-category="luxury" data-index="4">
                    <img src="https://images.unsplash.com/photo-1494976388531-d1058494cdd8?auto=format&fit=crop&q=80&w=1200" alt="Ford Mustang">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Ford Mustang GT</h5>
                        <span>Luxury</span>
                    </div>
                </div>
                
                <!-- Item 6 -->
                <div class="em-gallery-item" data-category="hypercar" data-index="5">
                    <img src="https://images.unsplash.com/photo-1566008885218-90abf9200ddb?auto=format&fit=crop&q=80&w=800" alt="Lamborghini Aventador">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Lamborghini Aventador</h5>
                        <span>Hypercar</span>
                    </div>
                </div>
                
                <!-- Item 7 -->
                <div class="em-gallery-item" data-category="supercar" data-index="6">
                    <img src="https://images.unsplash.com/photo-1614162692292-7ac56d7f7f1e?auto=format&fit=crop&q=80&w=800" alt="Ferrari Front">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Ferrari 488 Pista</h5>
                        <span>Supercar</span>
                    </div>
                </div>
                
                <!-- Item 8 -->
                <div class="em-gallery-item" data-category="luxury" data-index="7">
                    <img src="https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?auto=format&fit=crop&q=80&w=800" alt="Audi R8">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Audi R8 V10</h5>
                        <span>Luxury</span>
                    </div>
                </div>
                
                <!-- Item 9 - Wide -->
                <div class="em-gallery-item wide" data-category="classic" data-index="8">
                    <img src="https://images.unsplash.com/photo-1566024164372-0281f1133aa6?auto=format&fit=crop&q=80&w=1200" alt="Mercedes Classic">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Mercedes 300SL Gullwing</h5>
                        <span>Classic</span>
                    </div>
                </div>
                
                <!-- Item 10 -->
                <div class="em-gallery-item" data-category="hypercar" data-index="9">
                    <img src="https://images.unsplash.com/photo-1605559424843-9e4c228bf1c2?auto=format&fit=crop&q=80&w=800" alt="McLaren">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>McLaren 720S</h5>
                        <span>Hypercar</span>
                    </div>
                </div>
                
                <!-- Item 11 -->
                <div class="em-gallery-item" data-category="luxury" data-index="10">
                    <img src="https://images.unsplash.com/photo-1555215695-3004980ad54e?auto=format&fit=crop&q=80&w=800" alt="BMW M4">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>BMW M4 Competition</h5>
                        <span>Luxury</span>
                    </div>
                </div>
                
                <!-- Item 12 -->
                <div class="em-gallery-item" data-category="supercar" data-index="11">
                    <img src="https://images.unsplash.com/photo-1525609004556-c46c7d6cf023?auto=format&fit=crop&q=80&w=800" alt="Nissan GTR">
                    <div class="em-gallery-zoom"><i class="bi bi-zoom-in"></i></div>
                    <div class="em-gallery-overlay">
                        <h5>Nissan GT-R Nismo</h5>
                        <span>Supercar</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- LIGHTBOX -->
    <div class="em-lightbox" id="lightbox">
        <button class="em-lightbox-close" id="lightboxClose"><i class="bi bi-x-lg"></i></button>
        <button class="em-lightbox-nav lightbox-prev" id="lightboxPrev"><i class="bi bi-chevron-left"></i></button>
        <button class="em-lightbox-nav lightbox-next" id="lightboxNext"><i class="bi bi-chevron-right"></i></button>
        <div class="em-lightbox-content">
            <img src="" alt="" id="lightboxImg">
            <div class="em-lightbox-info">
                <h4 id="lightboxTitle"></h4>
                <span id="lightboxCategory"></span>
            </div>
        </div>
    </div>

    <!-- STATS SECTION -->
    <section class="em-gallery-stats">
        <div class="container">
            <div class="row">
                <div class="col-6 col-md-3">
                    <div class="stat-box">
                        <i class="bi bi-camera"></i>
                        <h3>500+</h3>
                        <p>Photos</p>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="stat-box">
                        <i class="bi bi-car-front"></i>
                        <h3>120+</h3>
                        <p>Vehicles</p>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="stat-box">
                        <i class="bi bi-award"></i>
                        <h3>50+</h3>
                        <p>Awards</p>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="stat-box">
                        <i class="bi bi-globe"></i>
                        <h3>30+</h3>
                        <p>Countries</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA SECTION -->
    <section class="em-gallery-cta">
        <div class="container">
            <h2>Want to See These Cars in Person?</h2>
            <p>Visit our showroom or schedule a private viewing with our team. Experience automotive excellence firsthand.</p>
            <div class="d-flex gap-3 justify-content-center flex-wrap">
                <a href="inventory.html" class="btn em-btn-primary px-4 py-2">View Inventory</a>
                <a href="contact.html" class="btn btn-outline-dark rounded-pill px-4 py-2">Schedule a Visit</a>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="em-footer">
        <div class="container">
            <div class="row g-4 g-lg-5">
                <!-- Brand Column -->
                <div class="col-lg-4 col-md-6">
                    <a href="index.html" class="em-footer-brand">EM<span>.</span></a>
                    <p class="em-footer-tagline">
                        Your premier destination for luxury automotive excellence. We bring together the world's most prestigious vehicles for those who demand nothing but the best.
                    </p>
                    <div class="em-footer-social">
                        <a href="#" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                        <a href="#" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                        <a href="#" aria-label="Twitter"><i class="bi bi-twitter-x"></i></a>
                        <a href="#" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div class="col-lg-2 col-md-6 col-6">
                    <h6>Explore</h6>
                    <ul class="em-footer-links">
                        <li><a href="inventory.html"><i class="bi bi-chevron-right"></i>Buy Cars</a></li>
                        <li><a href="rent.html"><i class="bi bi-chevron-right"></i>Rent Cars</a></li>
                        <li><a href="parts.html"><i class="bi bi-chevron-right"></i>Car Parts</a></li>
                        <li><a href="gallery.html"><i class="bi bi-chevron-right"></i>Gallery</a></li>
                        <li><a href="blog.html"><i class="bi bi-chevron-right"></i>Blog</a></li>
                    </ul>
                </div>
                
                <!-- Company Links -->
                <div class="col-lg-2 col-md-6 col-6">
                    <h6>Company</h6>
                    <ul class="em-footer-links">
                        <li><a href="about.html"><i class="bi bi-chevron-right"></i>About Us</a></li>
                        <li><a href="testimonials.html"><i class="bi bi-chevron-right"></i>Reviews</a></li>
                        <li><a href="faq.html"><i class="bi bi-chevron-right"></i>FAQ</a></li>
                        <li><a href="contact.html"><i class="bi bi-chevron-right"></i>Contact</a></li>
                        <li><a href="terms-policies.html"><i class="bi bi-chevron-right"></i>Terms</a></li>
                    </ul>
                </div>
                
                <!-- Contact Info -->
                <div class="col-lg-4 col-md-6">
                    <h6>Get In Touch</h6>
                    <ul class="em-footer-contact list-unstyled">
                        <li>
                            <i class="bi bi-geo-alt-fill"></i>
                            <span>123 Luxury Boulevard<br>Beverly Hills, CA 90210</span>
                        </li>
                        <li>
                            <i class="bi bi-telephone-fill"></i>
                            <span>+1 (555) 123-4567</span>
                        </li>
                        <li>
                            <i class="bi bi-envelope-fill"></i>
                            <span>info@emluxurycars.com</span>
                        </li>
                        <li>
                            <i class="bi bi-clock-fill"></i>
                            <span>Mon - Sat: 9:00 AM - 7:00 PM</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Footer Bottom -->
        <div class="em-footer-bottom">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <p>&copy; 2026 EM Luxury Cars. All rights reserved.</p>
                    </div>
                    <div class="col-md-6">
                        <div class="em-footer-bottom-links">
                            <a href="terms-policies.html">Privacy Policy</a>
                            <a href="terms-policies.html">Terms of Service</a>
                            <a href="terms-policies.html">Cookie Policy</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Cart Badge
            const cart = JSON.parse(localStorage.getItem('emCart')) || [];
            const badge = document.getElementById('em-cart-count');
            if (badge) {
                const count = cart.reduce((total, item) => total + item.quantity, 0);
                badge.innerText = count;
            }
            
            // Gallery Data
            const galleryItems = document.querySelectorAll('.em-gallery-item');
            const galleryData = [];
            
            galleryItems.forEach((item, index) => {
                const img = item.querySelector('img');
                const title = item.querySelector('.em-gallery-overlay h5').textContent;
                const category = item.querySelector('.em-gallery-overlay span').textContent;
                
                galleryData.push({
                    src: img.src,
                    title: title,
                    category: category
                });
            });
            
            // Filter Functionality
            const filterBtns = document.querySelectorAll('.em-filter-btn');
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Update active state
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filter = this.dataset.filter;
                    
                    galleryItems.forEach(item => {
                        if (filter === 'all' || item.dataset.category === filter) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });
            
            // Lightbox Functionality
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightboxImg');
            const lightboxTitle = document.getElementById('lightboxTitle');
            const lightboxCategory = document.getElementById('lightboxCategory');
            const lightboxClose = document.getElementById('lightboxClose');
            const lightboxPrev = document.getElementById('lightboxPrev');
            const lightboxNext = document.getElementById('lightboxNext');
            let currentIndex = 0;
            
            function openLightbox(index) {
                currentIndex = index;
                updateLightbox();
                lightbox.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            
            function closeLightbox() {
                lightbox.classList.remove('active');
                document.body.style.overflow = '';
            }
            
            function updateLightbox() {
                lightboxImg.src = galleryData[currentIndex].src;
                lightboxTitle.textContent = galleryData[currentIndex].title;
                lightboxCategory.textContent = galleryData[currentIndex].category;
            }
            
            function nextImage() {
                currentIndex = (currentIndex + 1) % galleryData.length;
                updateLightbox();
            }
            
            function prevImage() {
                currentIndex = (currentIndex - 1 + galleryData.length) % galleryData.length;
                updateLightbox();
            }
            
            // Event Listeners
            galleryItems.forEach((item, index) => {
                item.addEventListener('click', () => openLightbox(index));
            });
            
            lightboxClose.addEventListener('click', closeLightbox);
            lightboxNext.addEventListener('click', nextImage);
            lightboxPrev.addEventListener('click', prevImage);
            
            // Close on background click
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (!lightbox.classList.contains('active')) return;
                
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowRight') nextImage();
                if (e.key === 'ArrowLeft') prevImage();
            });
        });
    </script>
</body>
</html>
